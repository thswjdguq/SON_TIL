import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

///
/// ğŸ”· MyApp
/// ì•±ì˜ ë£¨íŠ¸ ìœ„ì ¯
///
class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Flutter Demo',
      theme: ThemeData(
        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),
      ),
      home: const MyHomePage(title: 'êµì¬ ì‹¤ìŠµ'),
    );
  }
}

///
/// ğŸ”· MyHomePage
/// êµì¬ ì˜ˆì œ ì‹¤í–‰ìš© ë©”ì¸ í˜ì´ì§€
///
class MyHomePage extends StatefulWidget {
  const MyHomePage({super.key, required this.title});
  final String title;

  @override
  State<MyHomePage> createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> with TickerProviderStateMixin {
  late TabController _tabController;
  bool opacity = true; // ìƒíƒœ ë³€ìˆ˜ (ì• ë‹ˆë©”ì´ì…˜ìš©)

  @override
  void initState() {
    super.initState();
    _tabController = TabController(length: 3, vsync: this);
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        backgroundColor: Theme.of(context).colorScheme.inversePrimary,
        title: Text(widget.title),
      ),
      body: Center(
        // í˜„ì¬ í…ŒìŠ¤íŠ¸ ì¤‘ì¸ í™”ë©´ ë³€ê²½ ê°€ëŠ¥: createS4(), createS5(), createS6()
        child: createS6(),
      ),
    );
  }

  /// S1 : ë‹¨ìˆœí•œ Container ë°°ì¹˜
  Widget createS1() {
    return Column(
      mainAxisAlignment: MainAxisAlignment.center,
      children: [
        Container(color: Colors.red, width: 100, height: 40),
        const SizedBox(height: 10),
        Container(color: Colors.blue, width: 100, height: 40),
      ],
    );
  }

  /// S2 : ListView ì˜ˆì œ
  Widget createS2() {
    return ListView(
      scrollDirection: Axis.vertical,
      children: List.generate(
        10,
        (index) => Container(
          width: 100,
          height: 100,
          margin: const EdgeInsets.all(5),
          color: Colors.red.withAlpha((index + 1) * 25),
          child: Center(
            child: Text(
              index.toString(),
              style: const TextStyle(color: Colors.white, fontSize: 20),
            ),
          ),
        ),
      ),
    );
  }

  /// S3 : PageView ì˜ˆì œ (ì„¸ë¡œ ìŠ¤í¬ë¡¤)
  Widget createS3() {
    return PageView(
      scrollDirection: Axis.vertical,
      pageSnapping: false,
      children: [
        Container(
          color: Colors.red,
          child: const Center(child: Text("1", style: TextStyle(fontSize: 50, color: Colors.white))),
        ),
        Container(
          color: Colors.blue,
          child: const Center(child: Text("2", style: TextStyle(fontSize: 50, color: Colors.white))),
        ),
        Container(
          color: Colors.yellow,
          child: const Center(child: Text("3", style: TextStyle(fontSize: 50, color: Colors.white))),
        ),
      ],
    );
  }

  /// S4 : TabBarView + TabBar ì˜ˆì œ
  Widget createS4() {
    return Column(
      children: [
        Expanded(
          child: TabBarView(
            controller: _tabController,
            children: const [
              ColoredBox(color: Colors.blue, child: Center(child: Text('ë©”ë‰´ 1í˜ì´ì§€'))),
              ColoredBox(color: Colors.orange, child: Center(child: Text('ë©”ë‰´ 2í˜ì´ì§€'))),
              ColoredBox(color: Colors.green, child: Center(child: Text('ë©”ë‰´ 3í˜ì´ì§€'))),
            ],
          ),
        ),
        TabBar(
          controller: _tabController,
          tabs: const [
            Tab(text: 'ë©”ë‰´1'),
            Tab(text: 'ë©”ë‰´2'),
            Tab(text: 'ë©”ë‰´3'),
          ],
        ),
      ],
    );
  }

  /// S5 : AnimatedPositioned ì˜ˆì œ
  Widget createS5() {
    return Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          AnimatedPositioned(
            duration: const Duration(milliseconds: 1000),
            left: opacity ? 0 : 159,
            top: 0,
            child: Container(
              width: 150,
              height: 150,
              decoration: const BoxDecoration(
                shape: BoxShape.circle,
                color: Colors.blue,
              ),
            ),
          ),
          const SizedBox(height: 200),
          ElevatedButton(
            onPressed: () {
              setState(() {
                opacity = !opacity;
              });
            },
            child: const Text('ì´ë™í•˜ê¸°'),
          ),
        ],
      ),
    );
  }
}

///
/// S6 : AnimatedContainer ì˜ˆì œ (í¬ê¸°/ìƒ‰ìƒ ì „í™˜)
///
Widget createS6() {
  bool opacity = true;
  return Column(
    mainAxisAlignment: MainAxisAlignment.center,
    children: [
      AnimatedContainer(
        duration: const Duration(milliseconds: 1000),
        width: opacity ? 100 : 150,
        height: opacity ? 100 : 150,
        decoration: BoxDecoration(
          shape: BoxShape.circle,
          color: opacity ? Colors.red : Colors.blue,
        ),
        onEnd: () => print('ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ'),
      ),
      const SizedBox(height: 20),
      Center(
        child: ElevatedButton(
          onPressed: () {
            opacity = !opacity;
          },
          child: const Text('ë²„íŠ¼'),
        ),
      ),
    ],
  );
}
